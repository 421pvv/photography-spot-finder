<div class="invalidResourceError">
  {{#each invalidResourceErrors}}
  <p>{{this}}</p>
  {{/each}}
</div>

<div class="search-and-filter">
  <form id="filterForm" action="/spots/search" method="GET">
    <label for="keyword">
      Search by keyword:
    </label>
    <input type="text" name="keyword" id="keyword" placeholder="Enter a keyword to search..." value="{{keyword}}">
    <button type="button" id="filterButton">Filter Options</button>
    <div id="filterOptions" hidden>
      {{> filterOptions }}
    </div>
    <button type="submit" id="applyFilterButton">Search</button>
  </form>
</div>



<div>
  {{#if errors}}
  {{#each errors}}
  <p class="formInputError">{{this}}</p>
  {{/each}}
  {{/if}}
</div>

<div id="spotsList">
  {{#if spots.length}}
  <ul>
    {{#each spots}}
    <li>
      <h2><a href="/spots/details/{{this._id}}">
          {{this.name}}
        </a></h2>
      <img src="{{this.images.0.url}}" alt="{{this.name}} top image"
        onerror="this.onerr=null; this.src='/public/images/no_image_avaliable.jpeg">

      <div class="spot-info">
        <p>Tags:
          {{#each this.tags}} <span>{{this}}</span> {{/each}}
        </p>
        <p>Average Rating: {{this.averageRating}} out of 10</p>
        <p> Posted on {{this.createdAt}}</p>
      </div>
    </li>
    {{/each}}
  </ul>
  {{else}}
  <p id="NoSpotsFound">No spots available.</p>
  {{/if}}
</div>